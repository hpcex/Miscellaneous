alpine 配置
apk add net-tools bind-tools mtr socat htop git traceroute iperf3 tcpdump unzip zip wget curl vim iptables iproute2 gcompat
wget -N https://raw.githubusercontent.com/hpcex/Miscellaneous/main/.vimrc

---------------------------------------------------------

安装 mosdns

mkdir -p /opt/mosdns
mv mosdns /usr/local/bin
chmod +x /usr/local/bin/mosdns
mosdns service uninstall
mosdns service install -c /opt/mosdns/config.yaml -d /opt/mosdns/
rc-update add mosdns
rc-service mosdns restart

---------------------------------------------------------

cat > /root/update_mos.sh << EOF
#!/bin/sh
gg wget https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geosite.dat -O /opt/mosdns/geosite.dat
gg wget https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geoip.dat -O /opt/mosdns/geoip.dat
rc-service mosdns restart

EOF

33 3 * * * /root/update_mos.sh >/dev/null 2>&1

---------------------------------------------------------

iptables -t nat -A PREROUTING -s 192.168.2.0/24 -d 192.168.2.5/32 -j ACCEPT
iptables -t nat -A PREROUTING -s 192.168.2.0/24 -p tcp -j REDIRECT --to-ports 7892

保存防火墙规则
/etc/init.d/iptables save

---------------------------------------------------------

安装 clash

---------------------------------------------------------
cat > /etc/init.d/clash << EOF
#!/sbin/openrc-run

name="clash"
description="Clash Daemon"

command="/usr/bin/clash"
command_args="-d /opt/clash"
pidfile="/run/${RC_SVCNAME}.pid"

command_background=true

depend() {
    need net
    after net
}

EOF

---------------------------------------------------------
rc-update add clash
rc-service clash start